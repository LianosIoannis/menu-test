<div class="text-nowrap flex flex-col gap-y-2">

    <div class="flex select-none">

        <div class="flex cursor-pointer items-center hover:scale-103" (click)="itemClicked()">

            <div class="flex items-center justify-center ml-1.5 transform transition-transform duration-300 ease-in-out"
                [class.hidden]="!menuItem().isFolder" [class.rotate-90]="!menuClosed()">
                <fa-icon [icon]="'chevron-right'" class="text-red-400"></fa-icon>
            </div>

            <div class="flex items-center justify-center ml-1.5">
                <fa-icon class="text-base" [icon]="faIcon()"
                    [ngClass]="menuItem().iconColor || 'text-yellow-200'"></fa-icon>
            </div>

            <div>
                <p class="item-text ml-1 pr-3 text-base max-w-60 text-white overflow-hidden truncate"
                    [title]="menuItem().text">{{menuItem().text}}</p>
            </div>

        </div>

    </div>

    @if (menuItem().isFolder && menuItem().items) {
        <div
            class="pl-4 grid transition-[grid-template-rows] duration-300 ease-in-out"
            [style.gridTemplateRows]="menuClosed() ? '0fr' : '1fr'">

            <div class="overflow-hidden min-h-0">
                <div
                    class="flex flex-col gap-y-2 transition-opacity duration-300 ease-in-out"
                    [style.opacity]="menuClosed() ? 0 : 1">

                    @for (childMenuItem of menuItem().items; track childMenuItem.id;) {
                        <app-menu-item
                            [menuItem]="childMenuItem"
                            (onItemClicked)="childClicked($event)"
                            [filtered]="filtered()">
                        </app-menu-item>
                    }
                </div>
            </div>
        </div>
    } @else {
        <div class="h-0"></div>
    }
</div>